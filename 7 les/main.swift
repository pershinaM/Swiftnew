//
//  main.swift
//  catch
//
//  Created by Mariia on 14.11.2021.
//

import Foundation

// ¬†error

var isIncontrol = true

func selfDrive() {
    
    if isIncontrol {
        print("Evrything is good")
    } else {
        print("Evrything is bad")
    }
}

selfDrive()

//apple —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∏—Å–ø—Ä–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª ERROR


//–∑–∞–¥–∞—á–∞: –µ—Å—Ç—å –º–∞—à–∏–Ω–∞ —Ç–µ—Å–ª–∞ –∏ –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏  –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏—Ö. –¥–æ–ø—É—Å—Ç–∏–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ –∫–æ–≥–¥–∞ –ø–æ—Ç–µ—Ä—è–Ω ¬†GPS –∏ –∫–æ–≥–¥–∞ —Ä–∞–∑–∞—Ä—è–∂–µ–Ω–∞ –±–∞—Ç–∞—Ä–µ—è
var lostGPS: Bool = true
var lowBattery:Bool = false

func autoDriveTesla() { //—Å–æ–∑–¥–∞–¥–∏–º —Ñ—É–Ω–∫—Ü–∏—é –≥–¥–µ –ø—Ä–æ–≤–µ—Ä–∏–º —ç—Ç–∏ –æ—à–∏–±–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ–º(–ø—Ä–∏–Ω—Ç)
    
    if lostGPS {
        print ("we are lost")
    }
    
    if lowBattery {
        print ("The battery is dead")
    }
}

// –ï—Å–ª–∏ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Error Handling –∫–∞–∫ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç Apple, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–µ–¥—É—é—â–µ–µ: –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ Throws
enum TeslaError: Error { //—ç—Ç–æ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
    case LostGPS         // —ç—Ç–æ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª –ø—É—Å—Ç–æ–π, –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    case lowbattery
}

/*throws - –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –∫–æ—Ç–æ—Ä–æ–µ –ø–∏—à–µ—Ç—Å—è—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–ª–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É
–ï—Å–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å –º–µ—Ç–æ–¥ —ç—Ç–∏–º –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º, –º—ã –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –ø–æ–∫–∞–∂–µ–º, —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫—É –∏ –µ–µ –Ω–∞–¥–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å. –ú—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ –æ—Å—Ç–∞–≤–∏–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –º–∞–Ω–µ–≤—Ä–∞ —Ç–æ–º—É, —á—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –Ω–∞—à –º–µ—Ç–æ–¥.
–í—Å–µ –º–µ—Ç–æ–¥—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∫–∞–∫ ¬´throws¬ª, –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –ò—Å–∫–ª—é—á–µ–Ω–∏—è ‚Äì —ç—Ç–æ –æ—à–∏–±–∫–∏, –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É—é—â–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª ¬´Error¬ª, –Ω–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ, –∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é. –ß—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ  –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ ¬´throw¬ª. */

func autoDrive() throws { // –º–µ—Ç–æ–¥ , –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å–∫–∞–∑–∞–ª–∏ —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª–∏ —á—Ç–æ–±—ã —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –µ–µ –∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    
    if lostGPS {
        throw TeslaError.LostGPS
    }
    
    if lowBattery {
        throw TeslaError.lowbattery
    }
    
    print("Evrything is all right")

}
//–¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –∏—Å–ø–æ–ª—å—É–∑–µ–º –ø—Ä–∏–µ–º try/catch
do {
    try autoDrive() // –≤ –±–ª–æ–∫–µ do –∑–∞–ø—É—Å—Ç–∏–º –º–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫—É
} catch TeslaError.LostGPS { //–ø—Ä–æ–≤–µ—Ä–∏–º –æ—à–∏–±–∫—É –∏ –≤—ã–≤–µ–¥–µ–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–Ω—Ñ–æ, –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –µ–µ
        print("You are lost")
    } catch TeslaError.lowbattery {
        print("The batteri is dead")
    }

// —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥—Ä—É–≥–æ–π –ø—Ä–∏–º–µ—Ä
//–ø–µ—Ä–µ—á–∏—Å–ª–∏–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

enum jsonDownload: Error {
    case moreSizeFileDownload
    case noNameFiles
    case serverError(error: Int)
}

//—Å–æ–∑–¥–∞–¥–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≥–¥–µ –ø—Ä–æ–ø–∏—à–µ–º –∏–º—è –∏ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
struct File {
    var image: String
    var size: Int
}

class downloadJPEG {
    var fileDownload = [
        "dog.jpeg": File(image: "dog", size: 3),
        "cat.jpeg": File (image: "cat", size: 9),
        "car.png": File(image: "car", size: 1)
    ]
    
    var sizeDownload = 7
    var errorValue = 404
    
    func downloadItem(itemNamed name: String, error: Int) throws {
        
        //guard –ø–æ—Ö–æ–∂ –Ω–∞ if-else, –æ—Ç–ª—á–∏–µ –≤ —Ç–æ–º, —á—Ç–æ –≤ guard —Å–æ–∑–¥–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∫–æ—Ç–æ—Ä—É—é –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏ –ø–æ—Ç–æ–º –º–æ–∂–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ–π –¥–∞–ª—å—à–µ –ø–æ –∫–æ–¥—É, –∞ –≤ if-else —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –º–æ–∂–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å–∞–º–æ–º ¬†if-else
        
        guard let file = fileDownload[name] else { // –ø—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –∏ –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ - –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º —ç—Ç—É –æ—à–∏–±–∫—É, –Ω-—Ä —á—Ç–æ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
            throw jsonDownload.noNameFiles
        }
        
        //–µ—Å–ª–∏ –≤—Å–µ —Ç–∞–∫–∏ –º—ã –Ω–∞—à–ª–∏ —ç—Ç—É –∫–∞—Ä—Ç–∏–Ω–∫—É, –ø—Ä–æ–≤–µ—Ä—è–º –µ–µ —Ä–∞–∑–º–µ—Ä
        
        guard file.size < sizeDownload else {
            throw jsonDownload.moreSizeFileDownload
        }
        
        guard errorValue == 200 else {
            throw jsonDownload.serverError(error: errorValue)
        }
        
        print( "\(file.image) is downloaded. Size is \(file.size)")
    }
}

//—Å–æ–∑–¥–∞–¥–∏–º –∫–æ–ª–ª–µ–∫—Ü–∏—é - –æ–ø–∏—à–µ–º —Ç–æ –∫—É–¥–∞ –±—É–¥–µ–º –∑–∞–≥—Ä—É–¥–∞—Ç—å –Ω–∞—à–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏

let UICollection = [
    "TableView": "dog.jpeg",
    "TabBar": "cat.jpeg",
    "ScrollView": "car.png"
]

// –æ–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏, –µ—Å–ª–∏ –≤ –Ω–µ–π –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏, —Ç–æ –∏ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–¥–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω–µ –∫–ª—é—á —Å–ª–æ–≤–æ–º ¬†throws

func download(collection: String, funcDownload: downloadJPEG) throws {
    let serverMessage = 200
    let collectionView = UICollection[collection] ?? "Loadscreen" // –µ—Å–ª–∏ –Ω–µ—Ç –∫–∞–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, —Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞ —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏loadscreen- —ç—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø–µ—Ä–≤—ã–π –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ª—é–±–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –û–±—ã—á–Ω–æ —Ç–∞–º —Ä–∞—Å–ø—Ä–æ–ª–æ–≥–∞–µ—Ç—Å—è –ª–æ–≥–æ—Ç–∏–ø –∫–æ–º–ø–∞–Ω–∏–∏ –∏–ª–∏ —Å–∞–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    //–ø—Ä–æ–≤–µ—Ä—è–µ–º –º–µ—Ç–æ–¥
    
    try funcDownload.downloadItem(itemNamed: collectionView, error: serverMessage)
    
}

//—Ç–µ–ø–µ—Ä—å –Ω–∞–¥–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏  —Å –ø–æ–º–æ—â—å—é ¬†do-catch

do {
    try download(collection: "TableView", funcDownload: downloadJPEG())
} catch jsonDownload.moreSizeFileDownload {
    print("The size of the file is more than needed")
} catch jsonDownload.noNameFiles {
    print("There ia no such a file")
} catch jsonDownload.serverError(let error) {
    print( "Error\(error)")
}

//APPLE —Ä–µ–∫–æ–º–µ–Ω–¥—É—Ç–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –Ω–µ —Ç–∞–º –≥–¥–µ –æ–Ω–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∏ –≤ do-catch

// TRY-CATCH

//try?

//–Ω–∞–ø–∏—à–µ–º –º–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É, –≤–Ω—É—Ç—Ä–∏ –Ω–∞–ø–∏—à–µ–º —á—Ç–æ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 10 –∏–ª–∏ –Ω–∏–ª
func someThrows() throws -> Int {
    return 10
}
//–ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É –æ—Ç —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞
var y: Int?

do {
    y = try someThrows() //–µ—Å–ª–∏ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–º –∑–Ω–∞—á–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –µ–≥–æ –≤ y
} catch { //–µ—Å–ª–∏ –º–µ—Ç–æ–¥ –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É, –≥–æ–≤–æ—Ä–∏–º —á—Ç–æ —É —Ä–∞–≤–µ–Ω –Ω–∏–ª
    y = nil
}
// –≤—Ç–æ—Ä–∞—è —Ñ–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏

let x = try? someThrows()


// –¥—Ä—É–≥–æ–π –ø—Ä–∏–º–µ—Ä

enum passwordError: Error {
    case obvious
}

func checkPassword (_ password: String) throws -> Bool {
    if password != "password" {
        throw passwordError.obvious
    }
    return true
}

do {
    try checkPassword("password")
        print("Password is right")
} catch {
        print("error")
    }

//–∏–Ω–∞—á–µ –¥—Ä—É–≥–∞—è —Ñ–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏ —Å try?

if let result = try? checkPassword("password") {
    print("result is \(result)")
} else {
    print("errorrr")
}

// –µ—â–µ –æ–¥–∏–Ω try! -–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç, –Ω–æ –æ—á–µ–Ω—å –æ–ø–∞—Å–Ω–æ, –º–æ–∂–µ—Ç —É—Ä–æ–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ —Ç–æ—á–Ω–æ –∑–Ω–∞–µ–º, —á—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∏–º —Ñ–æ—Ç–æ –±–µ–∑ –¥–æ–ø –ø—Ä–æ–≤–µ—Ä–æ–∫

//let photo = try! loadImage(at path: "resourse/car.png")


// EXAMPLE

var array: [String] = ["üî•", "üî•", "üî•", "‚òÄÔ∏è", "‚ùÑÔ∏è"]

print(array)

// –∑–∞–º–µ–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å –ø–æ–º map

print(array.map {_ in "üåó"}) // ["üåó", "üåó", "üåó", "üåó", "üåó"]

//–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–ª—å—Ç—Ä - –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–æ —á—Ç–æ –æ–≥–æ–Ω—å –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —ç—Ç–æ

print(array.filter{ i in i == "üî•"}) //["üî•", "üî•", "üî•"]

// reverse -–º–µ–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫
array.reverse()
print(array) // ["‚ùÑÔ∏è", "‚òÄÔ∏è", "üî•", "üî•", "üî•"]

//contains ¬†- –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ª–∏ –≤ –º–∞—Å—Å–∏–≤–µ —ç–ª–µ–º–µ–Ω—Ç

print( array.contains { i in i == "üî•"}) // true

//prefix and suffix -–≤—ã–≤–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–µ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —ç–µ–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞
¬†print(array.prefix(2)) // ["‚ùÑÔ∏è", "‚òÄÔ∏è"]
print(array.suffix(4)) // ["‚òÄÔ∏è", "üî•", "üî•", "üî•"]

// –º–µ—Ç–æ–¥ –º–µ–Ω—è—é—â–∏–π —ç–µ–ª–µ–º–µ–Ω—Ç—ã –º–µ—Ç—Å–∞–º–∏ SwapAt

array.swapAt(0, 3)
print(array) // ["üî•", "‚òÄÔ∏è", "üî•", "‚ùÑÔ∏è", "üî•"]

//shuffle —Ä–∞–Ω–¥–æ–º–Ω–æ –≤—ã–≤–æ–¥–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω

array.shuffle()
print(array) // ["üî•", "‚òÄÔ∏è", "üî•", "üî•", "‚ùÑÔ∏è"]

//—É–¥–∞–ª–µ–Ω–∏–µ —ç–µ–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞

print( array.dropLast(2))
print(array) // ["‚ùÑÔ∏è", "‚òÄÔ∏è", "üî•"]
             //["‚ùÑÔ∏è", "‚òÄÔ∏è", "üî•", "üî•", "üî•"]

print(array.dropFirst(3))
print(array) // ["üî•", "üî•"]
             //["üî•", "‚òÄÔ∏è", "‚ùÑÔ∏è", "üî•", "üî•"]


print(array.removeAll{i in i == "üî•"})
print(array) // ()
             //["‚ùÑÔ∏è", "‚òÄÔ∏è"]

print(array.removeAll())
print(array) // ()
             //[]
